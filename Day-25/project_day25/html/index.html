<script>
    if(!localStorage.getItem('token')) {
        location.href = 'login.html';
    }
    async function getData() {
        let url = 'http://127.0.0.1:8000/api/hello';

        let options = {
            headers: {
                Authorization: "Bearer " + localStorage.getItem('token')
            }
        };
        let resp = await fetch(url, options);
        let result = await resp.json();
        document.getElementById('content').innerHTML = result.message;
    }
    function logOut(){
        localStorage.removeItem('token');
        location.href = 'login.html';
    }
    getData();
</script>

<div id="content"></div>
<button onclick="logOut()">Log out</button>